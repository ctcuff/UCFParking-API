(function(e){function t(t){for(var n,r,c=t[0],l=t[1],s=t[2],u=0,f=[];u<c.length;u++)r=c[u],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&f.push(o[r][0]),o[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);d&&d(t);while(f.length)f.shift()();return i.push.apply(i,s||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,c=1;c<a.length;c++){var l=a[c];0!==o[l]&&(n=!1)}n&&(i.splice(t--,1),e=r(r.s=a[0]))}return e}var n={},o={app:0},i=[];function r(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=n,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var s=0;s<c.length;s++)t(c[s]);var d=l;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"182f":function(e,t,a){"use strict";var n=a("6713"),o=a.n(n);o.a},"1a34":function(e,t,a){e.exports=a.p+"static/img/calendar.7140a6c2.svg"},"2b8e":function(e,t,a){"use strict";var n=a("57e5"),o=a.n(n);o.a},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("f751"),a("097d");var n,o=a("2b0e"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("LoadingOverlay"),a("Navbar"),a("Chart")],1)},r=[],c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.isLoading?a("div",{attrs:{id:"overlay"}},[a("div",{attrs:{id:"center"}},[a("b-spinner",{attrs:{label:"Spinning",id:"spinner"}}),a("b-button",{attrs:{id:"cancel"},on:{click:e.cancelLoad}},[e._v("\n      Cancel\n    ")])],1)]):e._e()},l=[],s=new o["a"],d={OPTION_CHANGE:"optionChange",DATE_CHANGE:"onDateChange",TOGGLE_VISIBILITY:"toggleVisibility",TOGGLE_TOOLTIP:"toggleTooltip",TOGGLE_FILL:"toggleFill",TOGGLE_SLIDER:"toggleSlider",LOAD_CHART_DATA:"loadChartData",LOAD_STARTED:"onLoad",LOAD_FINISHED:"onLoadFinished",CHART_DATA_LOADED:"onChartDataLoaded",CANCEL_LOAD:"cancelLoad"},u=a("01e3"),f=a("1947"),p={components:{"b-spinner":u["a"],"b-button":f["a"]},data:function(){return{isLoading:!1}},created:function(){var e=this;s.$on(d.LOAD_STARTED,(function(){return e.isLoading=!0})),s.$on(d.LOAD_FINISHED,(function(){return e.isLoading=!1})),s.$on(d.PROGRESS_UPDATE,(function(t){return e.progress=t}))},methods:{cancelLoad:function(){s.$emit(d.CANCEL_LOAD)}}},m=p,h=(a("2b8e"),a("2877")),v=Object(h["a"])(m,c,l,!1,null,"5b645cb9",null),b=v.exports,g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hello"},[n("b-navbar",{attrs:{type:"dark",variant:"dark",toggleable:"lg"}},[n("a",{staticClass:"fa fa-github",attrs:{href:"https://github.com/ctcuff/UCFParking-Web",target:"_blank",title:"View source on GitHub",id:"github-icon"}}),n("b-navbar-brand",[e._v("Garage Data")]),n("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),n("b-collapse",{attrs:{"is-nav":"",id:"nav-collapse"}},[n("b-navbar-nav",{staticStyle:{flex:"1"}},[n("b-nav-item",{class:{"nav-active":"today"===e.activeNavItem},on:{click:function(t){e.activeNavItem="today",e.emitLoad("/today")}}},[e._v("\n          Today\n        ")]),n("b-nav-item-dropdown",{staticClass:"scrollable-menu",class:{"nav-active":"week"===e.activeNavItem},attrs:{text:e.selectedWeek||"View week"}},[n("b-dropdown-item",{on:{click:function(t){e.selectedWeek="This week",e.activeNavItem="week",e.emitLoad("/week")}}},[e._v("\n            This week\n          ")]),n("b-dropdown-divider"),e._l(e.weeks,(function(t,a){return n("b-dropdown-item",{key:a,on:{click:function(n){e.selectedWeek=t.name,e.activeNavItem="week",e.emitLoad("/week/"+a%52+"?year="+t.year)}}},[e._v("\n            "+e._s(t.name)+" "),n("span",{staticClass:"text-muted date-range"},[e._v(e._s(t.range))])])}))],2),n("b-nav-item-dropdown",{staticClass:"scrollable-menu",class:{"nav-active":"month"===e.activeNavItem},attrs:{text:e.selectedMonth||"View month"}},e._l(e.months,(function(t,a){return n("b-dropdown-item",{key:a,on:{click:function(n){e.selectedMonth=t.name,e.activeNavItem="month",e.emitLoad("/month/"+(a+1)%12+"?year="+t.year)}}},[e._v("\n            "+e._s(t.name)+"  "),n("span",{staticClass:"text-muted date-range"},[e._v(e._s(t.year))])])})),1),n("b-nav-item",{class:{"nav-active":"all"===e.activeNavItem},on:{click:function(t){e.activeNavItem="all",e.emitLoad("/all")}}},[e._v("\n          All\n        ")]),n("b-nav-item-dropdown",{attrs:{text:"Options"}},e._l(e.options,(function(t,a){return n("b-dropdown-item",{key:a,on:{click:t.action}},[e._v("\n            "+e._s(t.text)+"\n          ")])})),1)],1),n("div",{staticClass:"datepicker-wrapper"},[n("img",{attrs:{title:"View specific date",id:"calendar-icon",src:a("1a34"),alt:""},on:{click:e.openDatepicker}}),n("datetime",{attrs:{"input-id":"datetime-input","value-zone":"local",auto:!0,"week-start":0,"min-datetime":e.startDate,"max-datetime":(new Date).toISOString()},model:{value:e.selectedDate,callback:function(t){e.selectedDate=t},expression:"selectedDate"}})],1)],1)],1)],1)},L=[],_=a("f817"),w=a("859b"),O=a("d0b9"),T=a("11a5"),y=a("8f77"),A=a("5843"),D=a("042b"),I=a("4711"),k=a("ede5"),E=a("9eaa"),C=a("f47c"),S=(a("d355"),{components:{"b-navbar":O["a"],"b-navbar-toggle":T["a"],"b-navbar-brand":y["a"],"b-collapse":A["a"],"b-navbar-nav":D["a"],"b-nav-item":I["a"],"b-nav-item-dropdown":k["a"],"b-dropdown-item":E["a"],"b-dropdown-divider":C["a"],datetime:w["Datetime"]},data:function(){for(var e="2019-01-02T08:00:49.000Z",t=Object(_["a"])(),a=[],n=[],o=Object(_["a"])(e),i=(t.diff(o,"weeks"),t.diff(o,"months")),r=0;r<=t.diff(e,"weeks");r++){var c=o.format("MMM DD"),l=o.year(),u=o.add({days:0===r?3:6}).format("MMM DD"),f=o.year();a.push({name:"Week ".concat(r%52+1),range:"".concat(c,", ").concat(l," - ").concat(u,", ").concat(f),year:l}),o.add({days:1})}o=Object(_["a"])(e);for(var p=0;p<i+1;p++)n.push({name:o.format("MMMM"),year:o.format("YYYY")}),o.add({months:1});return{startDate:e,selectedDate:(new Date).toISOString(),selectedWeek:null,selectedMonth:null,activeNavItem:"today",options:[{text:"Toggle all lines",action:function(){return s.$emit(d.OPTION_CHANGE,{option:d.TOGGLE_VISIBILITY})}},{text:"Toggle tooltip",action:function(){return s.$emit(d.OPTION_CHANGE,{option:d.TOGGLE_TOOLTIP})}},{text:"Toggle fill",action:function(){return s.$emit(d.OPTION_CHANGE,{option:d.TOGGLE_FILL})}},{text:"Toggle slider",action:function(){return s.$emit(d.OPTION_CHANGE,{option:d.TOGGLE_SLIDER})}}],weeks:a,months:n}},watch:{selectedDate:function(e,t){if(e.slice(0,10)!==t.slice(0,10)){var a=Object(_["a"])(e),n=a.month()+1,o=a.date(),i=a.year();s.$emit(d.LOAD_CHART_DATA,"/data/month/".concat(n,"/day/").concat(o,"?year=").concat(i))}}},methods:{emitLoad:function(e){s.$emit(d.LOAD_CHART_DATA,e)},openDatepicker:function(){document.getElementById("datetime-input").click()}}}),G=S,N=(a("182f"),Object(h["a"])(G,g,L,!1,null,"485fc098",null)),x=N.exports,M=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"chart"}},[a("v-chart",{attrs:{options:e.line,autoresize:""}})],1)},$=[],H=(a("456d"),a("ac6a"),a("9ca8")),P=a("bc3a"),j=a.n(P),R=j.a.CancelToken,W=j.a.create({method:"GET",baseURL:"https://api.ucfgarages.com"});s.$on(d.LOAD_CHART_DATA,(function(e){s.$emit(d.LOAD_STARTED),W.get(e,{cancelToken:new R((function(e){n=e}))}).then((function(e){s.$emit(d.CHART_DATA_LOADED,e.data)})).catch((function(e){j.a.isCancel(e)||console.log(e)})).finally((function(){s.$emit(d.LOAD_FINISHED)}))})),s.$on(d.CANCEL_LOAD,(function(){n("Load canceled by user")}));a("ef97"),a("007d"),a("627c"),a("0a6d"),a("d28f");var F={showAllLines:!0,fill:!1,defaultLineWidth:4,thinLine:2,showSlider:!1,showTooltip:!0,lineNames:["A","B","C","D","H","I","Libra"]},Y={components:{"v-chart":H["a"]},created:function(){s.$emit(d.LOAD_CHART_DATA,"/data/today"),s.$on(d.OPTION_CHANGE,this.updateChartConfig),s.$on(d.CHART_DATA_LOADED,this.loadChartData)},data:function(){var e=F.showSlider,t=F.showTooltip,a=F.defaultLineWidth,n=F.lineNames,o=["#ff829d","#ffb266","#ffd778","#53b96a","#3333ff","#ad85ff","#5d6166"];return{isMobile:window.innerWidth<=900,line:{xAxis:{type:"category",boundaryGap:!1},yAxis:[{type:"value",min:0,max:100,name:"Percent full",nameLocation:"center",nameTextStyle:{padding:[0,0,15,0]}},{type:"value"}],tooltip:{trigger:"axis",showContent:t},series:n.map((function(e,t){return{type:"line",color:o[t],name:e,areaStyle:null,lineStyle:{width:a}}})),grid:{top:50,bottom:40,left:50,right:40},legend:{type:"plain",padding:[15,5,5,5],selected:{A:!0,B:!0,C:!0,D:!0,H:!0,I:!0,Libra:!0}},dataZoom:[{start:0,end:e?10:100,show:e},{type:"inside",moveOnMouseWheel:!0,zoomOnMouseWheel:!1,show:e}]}}},methods:{updateChartConfig:function(e){var t=e.option,a=this.line;switch(t){case d.TOGGLE_VISIBILITY:F.showAllLines=!F.showAllLines,Object.keys(a.legend.selected).forEach((function(e){a.legend.selected[e]=F.showAllLines}));break;case d.TOGGLE_FILL:F.fill=!F.fill;var n=F.fill,o=F.defaultLineWidth,i=F.thinLine;a.series.forEach((function(e){e.areaStyle=n?{}:null,e.lineStyle.width=n?i:o}));break;case d.TOGGLE_TOOLTIP:F.showTooltip=!F.showTooltip,a.tooltip.showContent=F.showTooltip;break;case d.TOGGLE_SLIDER:F.showSlider=!F.showSlider;var r=F.showSlider;a.dataZoom[0].end=r?10:100,a.dataZoom[0].show=r,a.dataZoom[1].show=r,a.grid.bottom=r?80:40;break;default:console.error("Invalid event")}},loadChartData:function(e){var t=this,a=this.line;F.showSlider=e.count>=200;var n=F.lineNames,o=F.defaultLineWidth,i=F.thinLine,r=F.showSlider,c={original:[],formatted:[]},l={0:[],1:[],2:[],3:[],4:[],5:[],6:[]},s=[];e.data.forEach((function(e){var t=Object(_["a"])(e.date);c.original.push(t.format("MM/DD/YY")),c.formatted.push(t.format("ddd MMM D - h A")),e.garages.forEach((function(e,t){l[t].push(Math.floor(Math.round(e.percent_full)))}))})),n.forEach((function(a,n){s.push({name:a,data:l[n],type:"line",showSymbol:!t.isMobile&&e.count<=24,lineStyle:{width:t.isMobile||e.count>24?i:o},areaStyle:null})})),a.tooltip.formatter=function(e){var t=c.formatted[e[0].dataIndex],a="".concat(t,"<br/>");return e.forEach((function(e){var n=e.dataIndex,o=e.marker,i=e.value,r=e.seriesName;t=c.formatted[n],a+="".concat(o).concat(r,": ").concat(i,"% Full<br/>")})),a},a.dataZoom[0].end=r?10:100,a.dataZoom[0].show=r,a.dataZoom[1].show=r,a.grid.bottom=r?80:40,a.xAxis.data=c.original,a.series=s}}},V=Y,Z=(a("c1ee"),Object(h["a"])(V,M,$,!1,null,"319066fb",null)),B=Z.exports,z=(a("f9e3"),a("2dd8"),{components:{Chart:B,Navbar:x,LoadingOverlay:b}}),U=z,J=Object(h["a"])(U,i,r,!1,null,null,null),q=J.exports;o["a"].config.productionTip=!1,new o["a"]({render:function(e){return e(q)}}).$mount("#app")},"57e5":function(e,t,a){},6713:function(e,t,a){},c1ee:function(e,t,a){"use strict";var n=a("e8a3"),o=a.n(n);o.a},e8a3:function(e,t,a){}});