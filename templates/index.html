<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width">
    <meta name="description"
          content="View an interactive graph of UCF parking garages. Data is added every hour 24 hours a day.">
    <title>UCF Parking Data</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.8.0/css/bootstrap-datepicker.css">
    <link rel="shortcut icon" href="/static/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/static/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="/static/style.css">

  </head>
  <body>

    <nav id="nav-bar" class="navbar navbar-expand-lg navbar-dark bg-dark">
      <a class="fa fa-github" id="github-btn" href="https://github.com/ctcuff/UCFParking-API" target="_blank"
         data-toggle="tooltip"
         data-placement="bottom"
         title="View project source"></a>
      <a class="navbar-brand" href="https://github.com/ctcuff/UCFParking-API" target="_blank"
         data-toggle="tooltip"
         data-placement="bottom"
         title="View project source">Garage Data</a>
      <button class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#navbarColor01"
              aria-controls="navbarColor01" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="navbar-collapse collapse" id="navbarColor01" style="">
        <ul class="navbar-nav mr-auto" id="nav-list-items">

          <li class="nav-item active" id="nav-today">
            <span class="nav-link pointer">Today <span class="sr-only">(current)</span></span>
          </li>

          <li class="nav-item dropdown" id="nav-dropdown-week">
            <span class="nav-link dropdown-toggle pointer" id="span-week" role="button" data-toggle="dropdown"
                  aria-haspopup="true" aria-expanded="false">
              View week
            </span>
            <div class="dropdown-menu scrollable-menu" id="nav-dropdown-items-week"
                 aria-labelledby="nav-dropdown-title">
              <span class="dropdown-item pointer" id="view-current-week">This week</span>
              <div class="dropdown-divider"></div>
            </div>
          </li>

          <li class="nav-item dropdown" id="nav-dropdown-month">
            <span class="nav-link dropdown-toggle pointer" id="span-month" role="button" data-toggle="dropdown"
                  aria-haspopup="true" aria-expanded="false">
              View month
            </span>
            <div class="dropdown-menu scrollable-menu" id="nav-dropdown-items-month"
                 aria-labelledby="nav-dropdown-title">
            </div>
          </li>

          <li class="nav-item" id="nav-all">
            <span class="nav-link pointer">All</span>
          </li>

          <li class="nav-item dropdown">
            <span class="nav-link dropdown-toggle pointer" role="button" data-toggle="dropdown" aria-haspopup="true"
                  aria-expanded="false">
              Options
            </span>
            <div class="dropdown-menu" aria-labelledby="nav-dropdown-title">
              <span class="dropdown-item pointer option" id="toggle-tooltip">Hide tooltip</span>
              <span class="dropdown-item pointer option" id="toggle-visibility">Hide all</span>
              <span class="dropdown-item pointer option" id="toggle-fill">Toggle fill</span>
              <span class="dropdown-item pointer option" id="toggle-slider">Show slider</span>
            </div>
          </li>

        </ul>
        <div class="form-inline">
          <div class="input-group input-group-sm mb-3r">
            <div class="input-group-prepend">
              <span class="input-group-text" id="addon-wrapping" style="cursor: default;">Date</span>
            </div>
            <input type="search" class="form-control pointer" id="date-picker" placeholder="" aria-label="Username"
                   data-provide="datepicker"
                   data-toggle="tooltip"
                   data-placement="left"
                   title="Click to change date"
                   aria-describedby="addon-wrapping" readonly>
          </div>
        </div>
      </div>
    </nav>

    <div class="overlay" id="overlay-loading">
      <div class="overlay-center">
        <div class="loader"></div>
      </div>
    </div>

    <div id="alert-container">
      <div id="alt-close-alert" class="alert alert-dark fade show" data-dismiss="alert">
        Press <code>F</code> to enter full screen
      </div>
    </div>

    <div id="chart"></div>

  </body>
  <script src="https://momentjs.com/downloads/moment.js"></script>
  <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.8.0/js/bootstrap-datepicker.js"></script>
  <script src="/static/echarts.min.js"></script>
  <script src="/static/nav-controller.js"></script>
  <script src="/static/line.js"></script>
  <script>
    window.showToolTip = true;
    window.showAllLines = true;
    window.showSlider = false;
    window.fill = false;

    $(document).ready(() => {
      // Enable all tooltips
      $('[data-toggle="tooltip"]').tooltip();

      // Collapse the nav bar when any item other than
      // a drop down is selected
      $('.navbar-collapse span:not(.dropdown-toggle)').click(() => {
        $('.navbar-collapse').collapse('hide');
      });

      // Enter full screen when f is pressed
      $('body').keypress((key) => {
        if (key.which === 102) {
          const element = document.body;

          // Supports most browsers and their versions.
          const requestMethod = element.requestFullScreen || element.webkitRequestFullScreen
              || element.mozRequestFullScreen || element.msRequestFullScreen;

          // Native full screen.
          if (requestMethod) {
            requestMethod.call(element);
          }
          // Older IE.
          else if (typeof window.ActiveXObject !== "undefined") {
            const wScript = new ActiveXObject("WScript.Shell");
            if (wScript !== null) {
              wScript.SendKeys("{F11}");
            }
          }
        }
      });
    });

    function showFullscreenAlert() {
      const $alert = $('#alert-container');
      $alert.animate({ opacity: 1 }, 1000);

      setTimeout(() => {
        $alert.animate({ opacity: 0 }, 1000);
        // Remove the alert from the DOM after it fades out (in case the
        // animation fails for some reason)
        setTimeout(() => $('#alert-container > div').alert('close'), 1000);
      }, 3000);
    }
  </script>
</html>
